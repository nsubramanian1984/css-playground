<!doctype html>
<html>
<style>
    .left {
        float: left;
    }
    
    .right {
        float: right;
    }
    
    .center {
        display: table;
        margin: 0 auto;
    }
    
    .justify {
        display: block;
        clear: both;
        margin: 0px;
    }
    
    .bold {
        font-weight: bold;
    }
    
    .italic {
        font-style: italic;
    }
    
    .underline {
        text-decoration: underline;
    }
    
    .unordered {
        display: list-item;
        list-style-position: inside;
    }
    
    .unordered.indent {
        text-indent: -30px;
    }
    
    .ordered {
        display: list-item;
        list-style-position: inside;
        list-style-type: decimal;
    }
    
    .ordered.text_indent {
        text-indent: -16px;
    }
    
    div.editor {
        width: 100%;
        overflow: hidden;
    }
    
    .button {
        width: 15px;
        height: 15px;
        display: inline-block;
        border: 2px solid gray;
        margin-bottom: 10px;
        margin-right: 2px;
        background: url("sprite.png") 0 0 no-repeat;
    }
    
    .button:hover::before {
        color: white;
        content: attr(data-name);
        font: italic normal 12px 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        height: 15px;
        position: absolute;
        top: 30px;
        background-color: darkgray;
        padding: 2px;
        border-radius: 2px;
    }
    
    .button:hover::after {
        content: "";
        border-style: solid;
        border-color: darkgray transparent;
        border-top: none;
        width: 2px;
        top: 28px;
        position: absolute;
        margin-left: 5px;
    }
    
    .button.leftAlign {
        /*background-position: -132px 0px;
        background-size: cover;*/
        background-position: -113px -1px;
    }
    
    .button.centerAlign {
        background-position: -129px -1px;
    }
    
    .button.rightAlign {
        background-position: -145px -1px;
    }
    
    .button.justify {
        background-position: -161px -1px;
    }
    
    .button.bold {
        background-position: -1px -1px;
    }
    
    .button.italic {
        background-position: -17px -1px;
    }
    
    .button.underline {
        background-position: -33px -1px;
    }
    
    .button.unordered {
        background-position: -65px -1px;
    }
    
    .button.ordered {
        background-position: -81px -1px;
    }
    
    .selected {
        border: 2px solid red;
    }
    
    span {
        position: relative;
        max-width: 100%;
        padding: 50px 100px;
    }
    
    span.left {
        text-align: left;
    }
    
    span.right {
        text-align: right;
    }
    
    span.center {
        text-align: center;
    }
    
    span.justify {
        text-align: justify;
    }
</style>

<body>
    <div class="button leftAlign" data-attr="align" data-name="left"></div>
    <div class="button centerAlign selected" data-attr="align" data-name="center"></div>
    <div class="button rightAlign" data-attr="align" data-name="right"></div>
    <div class="button justify" data-attr="align" data-name="justify"></div>
    <div class="button bold" data-name="bold"></div>
    <div class="button italic" data-name="italic"></div>
    <div class="button underline" data-name="underline"></div>
    <div class="button unordered" data-name="unordered" data-attr="order"></div>
    <div class="button ordered" data-name="ordered" data-attr="order"></div>
    <div class="editor">
        <span class="center">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur sagittis,
            lacus non luctus venenatis, sapien sapien sagittis diam, at suscipit magna tortor in nisl.
            Curabitur et tempor nibh. Integer tincidunt neque et vestibulum pulvinar. Nam dolor dolor,
            fringilla quis vestibulum eget, auctor nec tortor. Morbi lacinia tempor lacus. Sed porttitor
            libero turpis, quis vulputate ante ornare in. Vestibulum sed nulla eget mauris vestibulum
            gravida vitae sit amet lorem. Ut ac libero congue, laoreet lorem ut, interdum odio.
            Sed convallis, mi nec ultrices commodo, libero tellus ullamcorper elit, at maximus leo
            justo id metus. Nulla facilisis ipsum nec nunc eleifend tempus. Nam tempus malesuada dolor
            ut blandit.
        </span>
    </div>
    <div></div>
</body>

<script type="text/javascript">
    var btn = document.getElementsByClassName("button leftAlign");
    btn[0] && btn[0].addEventListener("click", onClick, false);

    btn = document.getElementsByClassName("button centerAlign");
    btn[0] && btn[0].addEventListener("click", onClick, false);

    btn = document.getElementsByClassName("button rightAlign");
    btn[0] && btn[0].addEventListener("click", onClick, false);

    btn = document.getElementsByClassName("button justify");
    btn[0] && btn[0].addEventListener("click", onClick, false);

    btn = document.getElementsByClassName("button bold");
    btn[0] && btn[0].addEventListener("click", onClick, false);

    btn = document.getElementsByClassName("button italic");
    btn[0] && btn[0].addEventListener("click", onClick, false);

    btn = document.getElementsByClassName("button underline");
    btn[0] && btn[0].addEventListener("click", onClick, false);

    btn = document.getElementsByClassName("button unordered");
    btn[0] && btn[0].addEventListener("click", onClick, false);

    btn = document.getElementsByClassName("button ordered");
    btn[0] && btn[0].addEventListener("click", onClick, false);

    function onClick(e) {

        function switchAlignment(element) {
            //Remove selected from all content alignment options.
            var nodes = document.querySelectorAll('[data-attr="align"]');

            nodes.forEach(function(item) {
                item.className = item.className.replace("selected", "");
                item.className = item.className.trim();
            });

            if (element.className.indexOf("selected") < 0)
                element.className += " selected";
        }

        function switchFontStyle(element) {
            if (element.className.indexOf("selected") < 0)
                element.className += " selected";
            else
                element.className = element.className.replace(" selected", "");
        }

        function switchOrderUnOrder(element) {
            //Remove selected from all content alignment options.
            var nodes = document.querySelectorAll('[data-attr="order"]');

            nodes.forEach(function(item) {
                item.className = item.className.replace("selected", "");
                item.className = item.className.trim();
            });

            if (element.className.indexOf("selected") < 0)
                element.className += " selected";
        }


        // Entry point
        var editorItem = document.getElementsByClassName("editor");
        var childNodes = editorItem[0] && editorItem[0].childNodes && editorItem[0].childNodes;

        switch (e.target.className) {
            case "button leftAlign":
                if (childNodes[1].className.indexOf("left") < 0)
                    childNodes[1].className += " left ";

                childNodes[1].className = childNodes[1].className.replace("right", "");
                childNodes[1].className = childNodes[1].className.replace("center", "");
                childNodes[1].className = childNodes[1].className.replace("justify", "");

                switchAlignment(e.target);

                break;
            case "button centerAlign":
                // childNodes[1].className = "center";
                if (childNodes[1].className.indexOf("center") < 0)
                    childNodes[1].className += " center ";

                childNodes[1].className = childNodes[1].className.replace("right", "");
                childNodes[1].className = childNodes[1].className.replace("left", "");
                childNodes[1].className = childNodes[1].className.replace("justify", "");
                switchAlignment(e.target);

                break;
            case "button rightAlign":
                // childNodes[1].className = "right";
                if (childNodes[1].className.indexOf("right") < 0)
                    childNodes[1].className += " right ";

                childNodes[1].className = childNodes[1].className.replace("left", "");
                childNodes[1].className = childNodes[1].className.replace("center", "");
                childNodes[1].className = childNodes[1].className.replace("justify", "");

                switchAlignment(e.target);

                break;
            case "button justify":
                // childNodes[1].className = "right";
                if (childNodes[1].className.indexOf("justify") < 0)
                    childNodes[1].className += " justify ";

                childNodes[1].className = childNodes[1].className.replace("left", "");
                childNodes[1].className = childNodes[1].className.replace("center", "");
                childNodes[1].className = childNodes[1].className.replace("right", "");

                switchAlignment(e.target);

                break;
            case "button bold":
            case "button bold selected":
                if (childNodes[1].className.indexOf("bold") < 0)
                    childNodes[1].className += " bold ";
                else
                    childNodes[1].className = childNodes[1].className.replace("bold", "");

                switchFontStyle(e.target);
                break;
            case "button italic":
            case "button italic selected":
                if (childNodes[1].className.indexOf("italic") < 0)
                    childNodes[1].className += " italic ";
                else
                    childNodes[1].className = childNodes[1].className.replace("italic", "");

                switchFontStyle(e.target);
                break;
            case "button underline":
            case "button underline selected":
                if (childNodes[1].className.indexOf("underline") < 0)
                    childNodes[1].className += " underline ";
                else
                    childNodes[1].className = childNodes[1].className.replace("underline", "");

                switchFontStyle(e.target);
                break;
            case "button unordered":
            case "button unordered selected":
                if (childNodes[1].className.indexOf("ordered text_indent") != -1)
                    childNodes[1].className = childNodes[1].className.replace("ordered text_indent", "");

                if (childNodes[1].className.indexOf("unordered") < 0)
                    childNodes[1].className += " unordered indent";
                else
                    childNodes[1].className = childNodes[1].className.replace("unordered indent", "");

                switchOrderUnOrder(e.target);

                break;
            case "button ordered":
            case "button ordered selected":
                if (childNodes[1].className.indexOf("unordered indent") != -1)
                    childNodes[1].className = childNodes[1].className.replace("unordered indent", "");

                if (childNodes[1].className.indexOf("ordered text_indent") < 0)
                    childNodes[1].className += " ordered text_indent";
                else
                    childNodes[1].className = childNodes[1].className.replace("ordered text_indent", "");

                switchOrderUnOrder(e.target);
                break;
            default:
                console.log("default");
                break;
        }

        childNodes[1].className = childNodes[1].className.trim();
        childNodes[1].className = childNodes[1].className.replace(/(\s){2,}/g, " ");
    }
</script>

</html>